{% extends "base.html" %}
{% block title %}ID Verification{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto mt-10 bg-white shadow rounded-xl p-8 text-center">

    <!-- ============================= -->
    <!-- STATUS HEADER -->
    <!-- ============================= -->
    {% if valid %}
        <div class="mb-6">
            <div class="text-2xl font-bold text-green-700">
                ? VALID ID CARD
            </div>
            <p class="text-gray-600 text-sm">
                This student ID is authentic and recognized
            </p>
        </div>
    {% else %}
        <div class="mb-6">
            <div class="text-2xl font-bold text-red-700">
                ? INVALID ID CARD
            </div>
            <p class="text-gray-600 text-sm">
                This ID card is not valid or has been revoked
            </p>
        </div>
    {% endif %}


    <!-- ============================= -->
    <!-- ID IMAGE -->
    <!-- ============================= -->
    {% if valid %}
        {% if image_url %}
            <img
                src="{{ image_url }}"
                alt="Student ID Card"
                class="mx-auto rounded border mb-6 max-w-xs"
                loading="lazy"
            >
        {% elif image_stream_url %}
            <img
                src="{{ image_stream_url }}"
                alt="Student ID Card"
                class="mx-auto rounded border mb-6 max-w-xs"
                loading="lazy"
            >
        {% else %}
            <div class="text-gray-500 mb-6">
                ID image unavailable
            </div>
        {% endif %}
    {% endif %}


    <!-- ============================= -->
    <!-- STUDENT INFO -->
    <!-- ============================= -->
    {% if valid and student %}
    <div class="text-left space-y-2 text-sm">

        <div>
            <strong>Name:</strong>
            {{ student.first_name|default:"" }}
            {{ student.middle_name|default:"" }}
            {{ student.last_name|default:"" }}
        </div>

        <div>
            <strong>Matric No:</strong>
            {{ student.matric_number|default:"-" }}
        </div>

        <div>
            <strong>Department:</strong>
            {{ student.department|default:"-" }}
        </div>

        <div>
            <strong>Level:</strong>
            {{ student.level|default:"-" }}
        </div>

        <div>
            <strong>Phone:</strong>
            {{ student.phone|default:"-" }}
        </div>

        <div>
            <strong>ID Issued:</strong>
            {{ id_card.created_at|date:"M d, Y"|default:"-" }}
        </div>

        <!-- TRUST BADGE -->
        <div class="pt-4 text-green-700 font-semibold text-center">
            ? Identity Confirmed
        </div>

    </div>
    {% endif %}

</div>
{% endblock %}
