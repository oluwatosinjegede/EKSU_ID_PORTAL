{% extends "base.html" %}
{% block title %}Verify ID{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto bg-white p-8 rounded-xl shadow text-center">

    {% if valid %}

        <!-- STATUS -->
        <h2 class="text-2xl font-bold text-green-600 mb-6">
            ID Verified ?
        </h2>

        <!-- STUDENT INFO -->
        <div class="text-left space-y-2 mb-6">

            <p>
                <span class="font-semibold">Name:</span>
                {{ student.user.first_name|default:"-" }}
                {% if student.middle_name %}
                    {{ student.middle_name }}
                {% endif %}
                {{ student.user.last_name|default:"-" }}
            </p>

            <p>
                <span class="font-semibold">Matric Number:</span>
                {{ student.matric_number|default:"-" }}
            </p>

            <p>
                <span class="font-semibold">Department:</span>
                {{ student.department|default:"-" }}
            </p>

            <p>
                <span class="font-semibold">Level:</span>
                {{ student.level|default:"-" }}
            </p>

            {% if issued_at %}
            <p>
                <span class="font-semibold">Issued:</span>
                {{ issued_at }}
            </p>
            {% endif %}
        </div>

        <!-- ID CARD PREVIEW -->
        {% if id_card and id_card.image %}
        <div class="mt-6">
            <p class="font-semibold mb-2">Digital ID Card</p>

            <img
                src="{{ id_card.image.url }}"
                alt="Student ID"
                class="mx-auto border rounded shadow"
                style="max-width: 260px;"
            >

            <div class="mt-3">
                <a href="{{ id_card.image.url }}?fl_attachment"
                   class="inline-block bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded">
                    Download ID
                </a>
            </div>
        </div>
        {% endif %}

    {% else %}

        <!-- INVALID -->
        <h2 class="text-2xl font-bold text-red-600 mb-4">
            Invalid ID
        </h2>

        <p class="text-gray-600">
            This ID could not be verified or does not exist in the system.
        </p>

    {% endif %}

</div>
{% endblock %}
